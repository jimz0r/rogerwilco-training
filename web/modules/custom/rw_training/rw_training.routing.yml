rw_training.enroll:
  path: '/course/{node}/enroll'
  defaults:
    _controller: '\Drupal\rw_training\Controller\EnrollController::enroll'
  requirements:
    _entity_access: 'node.view'
    node: '\d+'

rw_training.unenroll:
  path: '/course/{node}/unenroll'
  defaults:
    _controller: '\Drupal\rw_training\Controller\EnrollController::unenroll'
  requirements:
    _entity_access: 'node.view'
    node: '\d+'

rw_training.lesson_complete:
  path: '/lesson/{node}/complete'
  defaults:
    _controller: '\Drupal\rw_training\Controller\LessonProgressController::complete'
  requirements:
    _entity_access: 'node.view'
    node: '\d+'

rw_training.lesson_uncomplete:
  path: '/lesson/{node}/uncomplete'
  defaults:
    _controller: '\Drupal\rw_training\Controller\LessonProgressController::uncomplete'
  requirements:
    _entity_access: 'node.view'
    node: '\d+'

rw_training.course_next_lesson:
  path: '/course/{node}/continue'
  defaults:
    _controller: '\Drupal\rw_training\Controller\NextLessonController::go'
  requirements:
    _entity_access: 'node.view'
    node: '\d+'

rw_training.recalc_all:
  path: '/admin/content/enrollments/recalculate'
  defaults:
    _controller: '\Drupal\rw_training\Controller\AdminRecalcController::recalc'
    _title: 'Recalculate enrollment progress'
  requirements:
    _permission: 'administer rw training'